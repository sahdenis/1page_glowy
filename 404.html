<!DOCTYPE html>
<html lang="ro">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>404 - Glowy.md</title>
    <link rel="icon" type="image/png" href="https://ihegootehofxyltq.public.blob.vercel-storage.com/favicon.png" />
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=G-ZQLJNECB22"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());
      gtag("config", "G-ZQLJNECB22");
    </script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        glowy: '#ec4899',       // –†–æ–∑–æ–≤—ã–π –±—Ä–µ–Ω–¥
                        'glowy-dark': '#be185d',
                    },
                    fontFamily: { sans: ['Nunito', 'sans-serif'] },
                    animation: {
                        'float': 'float 6s ease-in-out infinite',
                        'pulse-slow': 'pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                    },
                    keyframes: {
                        float: {
                            '0%, 100%': { transform: 'translateY(0)' },
                            '50%': { transform: 'translateY(-20px)' },
                        }
                    }
                }
            }
        }
    </script>
    <style>
        .text-glow { text-shadow: 0 0 20px rgba(236, 72, 153, 0.5); }
        .glass { background: rgba(255, 255, 255, 0.8); backdrop-filter: blur(10px); }
    </style>
</head>
<body class="bg-gray-50 min-h-screen flex flex-col font-sans">

    <header class="fixed w-full top-0 z-50 glass border-b border-white/20">
        <div class="container mx-auto px-4 py-3 flex justify-between items-center">
            <a href="/" class="flex items-center gap-2 group">
                <div class="w-10 h-10 rounded-full bg-gradient-to-br from-glowy to-purple-600 p-0.5 shadow-lg group-hover:scale-110 transition duration-300">
                    <img src="https://ihegootehofxyltq.public.blob.vercel-storage.com/favicon.png" class="w-full h-full bg-white rounded-full object-cover">
                </div>
                <span class="text-2xl font-extrabold bg-clip-text text-transparent bg-gradient-to-r from-glowy to-purple-600">
                    Glowy.md
                </span>
            </a>
            
            <div class="flex gap-2 text-sm">
                <button onclick="setLang('ro')" id="btn-ro" class="font-bold text-glowy">RO</button>
                <span class="text-gray-300">|</span>
                <button onclick="setLang('ru')" id="btn-ru" class="font-bold text-gray-400 hover:text-glowy">RU</button>
            </div>
        </div>
    </header>

    <main class="flex-grow flex items-center justify-center pt-24 pb-10 px-4">
        <div class="text-center max-w-lg mx-auto">
            
            <div class="relative mb-8 float-anim">
                <h1 class="text-[150px] font-black leading-none bg-clip-text text-transparent bg-gradient-to-br from-glowy to-purple-600 text-glow opacity-20 select-none">
                    404
                </h1>
                <div class="absolute inset-0 flex items-center justify-center">
                    <i class="fa-solid fa-ghost text-6xl text-glowy animate-bounce"></i>
                </div>
            </div>

            <h2 class="text-3xl font-bold text-gray-800 mb-4" data-i18n="title">Ups! S-a fƒÉcut √Æntuneric...</h2>
            <p class="text-gray-500 mb-8 text-lg" data-i18n="desc">Pagina pe care o cau»õi s-a ascuns sub pƒÉturƒÉ »ôi nu o putem gƒÉsi.</p>

            <div class="bg-white p-6 rounded-2xl shadow-xl border border-pink-100 mb-8 relative overflow-hidden group">
                <div class="absolute -top-10 -right-10 w-20 h-20 bg-yellow-300 rounded-full blur-2xl opacity-50"></div>
                
                <h3 class="text-glowy font-bold mb-2 flex items-center justify-center gap-2">
                    <i class="fa-solid fa-gift"></i> <span data-i18n="promo_title">Cadou de consolare!</span>
                </h3>
                <p class="text-xs text-gray-400 mb-4" data-i18n="promo_desc">DacƒÉ tot te-ai rƒÉtƒÉcit, iatƒÉ un cod de reducere -5%:</p>
                
                <div class="flex flex-col sm:flex-row items-center gap-3">
                    <div id="promoDisplay" class="flex-1 bg-gray-100 border-2 border-dashed border-gray-300 rounded-lg py-3 px-4 font-mono text-xl font-bold text-gray-700 tracking-widest w-full select-all">
                        404GIFT-......
                    </div>
                    <button onclick="activatePromo()" id="promoBtn" class="w-full sm:w-auto bg-gradient-to-r from-glowy to-purple-600 text-white font-bold py-3 px-6 rounded-lg shadow-md hover:shadow-lg hover:scale-105 transition active:scale-95 flex items-center justify-center gap-2">
                        <span data-i18n="btn_use">ActiveazƒÉ</span> <i class="fa-solid fa-paper-plane"></i>
                    </button>
                </div>
                <p id="promoStatus" class="text-xs text-green-500 font-bold mt-2 hidden animate-pulse">
                    <i class="fa-solid fa-check-circle"></i> <span data-i18n="promo_sent">Trimis managerului! FƒÉ un screenshot.</span>
                </p>
            </div>

            <div class="flex flex-col sm:flex-row gap-4 justify-center">
                <a href="/#catalog" class="px-8 py-3 bg-white border-2 border-glowy text-glowy font-bold rounded-full hover:bg-glowy hover:text-white transition shadow-sm" data-i18n="btn_catalog">
                    Vezi Catalogul
                </a>
                <a href="/" class="px-8 py-3 bg-gray-100 text-gray-600 font-bold rounded-full hover:bg-gray-200 transition" data-i18n="btn_home">
                    Pagina PrincipalƒÉ
                </a>
            </div>

        </div>
    </main>

    <footer class="bg-white border-t border-gray-100 py-6 mt-auto">
        <div class="container mx-auto px-4 text-center">
            <div class="flex justify-center gap-6 mb-4">
                <a href="https://instagram.com/glowy.md" target="_blank" class="text-gray-400 hover:text-glowy transition text-2xl">
                    <i class="fa-brands fa-instagram"></i>
                </a>
                <a href="https://facebook.com/" target="_blank" class="text-gray-400 hover:text-blue-600 transition text-2xl">
                    <i class="fa-brands fa-facebook"></i>
                </a>
                <a href="https://tiktok.com/" target="_blank" class="text-gray-400 hover:text-black transition text-2xl">
                    <i class="fa-brands fa-tiktok"></i>
                </a>
            </div>
            <p class="text-gray-400 text-sm">¬© 2024 Glowy.md. All rights reserved.</p>
        </div>
    </footer>

    <script>
        // 1. –¢–µ–∫—Å—Ç—ã
        const texts = {
            ro: {
                title: "Ups! S-a fƒÉcut √Æntuneric...",
                desc: "Pagina pe care o cau»õi s-a ascuns sub pƒÉturƒÉ »ôi nu o putem gƒÉsi.",
                promo_title: "Cadou de consolare!",
                promo_desc: "DacƒÉ tot te-ai rƒÉtƒÉcit, iatƒÉ un cod de reducere -5%:",
                btn_use: "ActiveazƒÉ",
                promo_sent: "Trimis managerului! FƒÉ un screenshot.",
                btn_catalog: "Vezi Catalogul",
                btn_home: "Pagina PrincipalƒÉ"
            },
            ru: {
                title: "–û–π! –°—Ç–∞–ª–æ —Ç–µ–º–Ω–æ...",
                desc: "–°—Ç—Ä–∞–Ω–∏—Ü–∞, –∫–æ—Ç–æ—Ä—É—é –≤—ã –∏—â–µ—Ç–µ, —Å–ø—Ä—è—Ç–∞–ª–∞—Å—å –ø–æ–¥ –æ–¥–µ—è–ª–æ–º, –∏ –º—ã –Ω–µ –º–æ–∂–µ–º –µ—ë –Ω–∞–π—Ç–∏.",
                promo_title: "–£—Ç–µ—à–∏—Ç–µ–ª—å–Ω—ã–π –ø—Ä–∏–∑!",
                promo_desc: "–†–∞–∑ —É–∂ –≤—ã –∑–¥–µ—Å—å –∑–∞–±–ª—É–¥–∏–ª–∏—Å—å, –≤–æ—Ç –ø—Ä–æ–º–æ–∫–æ–¥ –Ω–∞ —Å–∫–∏–¥–∫—É -5%:",
                btn_use: "–ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å",
                promo_sent: "–û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –º–µ–Ω–µ–¥–∂–µ—Ä—É! –°–¥–µ–ª–∞–π—Ç–µ —Å–∫—Ä–∏–Ω—à–æ—Ç.",
                btn_catalog: "–ü–µ—Ä–µ–π—Ç–∏ –≤ –∫–∞—Ç–∞–ª–æ–≥",
                btn_home: "–ù–∞ –≥–ª–∞–≤–Ω—É—é"
            }
        };

        let currentLang = 'ro';
        let generatedCode = '';

        // 2. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—Ä–æ–º–æ–∫–æ–¥–∞
        function generatePromoCode() {
            const chars = 'ABCDEF0123456789';
            let randomPart = '';
            for(let i=0; i<6; i++) {
                randomPart += chars.charAt(Math.floor(Math.random() * chars.length));
            }
            generatedCode = `404GIFT-${randomPart}`;
            document.getElementById('promoDisplay').innerText = generatedCode;
        }

        // 3. –°–º–µ–Ω–∞ —è–∑—ã–∫–∞
        function setLang(lang) {
            currentLang = lang;
            document.querySelectorAll('[data-i18n]').forEach(el => {
                const key = el.getAttribute('data-i18n');
                if (texts[lang][key]) el.innerText = texts[lang][key];
            });

            document.getElementById('btn-ro').className = lang === 'ro' ? "font-bold text-glowy" : "font-bold text-gray-400 hover:text-glowy";
            document.getElementById('btn-ru').className = lang === 'ru' ? "font-bold text-glowy" : "font-bold text-gray-400 hover:text-glowy";
        }

        // 4. –û—Ç–ø—Ä–∞–≤–∫–∞ –≤ Telegram
        async function activatePromo() {
            const btn = document.getElementById('promoBtn');
            const status = document.getElementById('promoStatus');
            
            // –í–∏–∑—É–∞–ª—å–Ω–∞—è —Ä–µ–∞–∫—Ü–∏—è
            const originalText = btn.innerHTML;
            btn.innerHTML = '<i class="fa-solid fa-spinner fa-spin"></i>';
            btn.disabled = true;

            // –°–æ–æ–±—â–µ–Ω–∏–µ –¥–ª—è –º–µ–Ω–µ–¥–∂–µ—Ä–∞
            const tgMsg = `üéÅ *ACTIVARE PROMO 404* (Site)\n\nüîë Cod: \`${generatedCode}\`\n‚ÑπÔ∏è Clientul a gƒÉsit pagina 404 »ôi a solicitat reducerea de 5%.`;

            try {
                // –ò—Å–ø–æ–ª—å–∑—É–µ–º —Ç–æ—Ç –∂–µ API, —á—Ç–æ –∏ —Ñ–æ—Ä–º–∞ –∑–∞–∫–∞–∑–∞
                const response = await fetch('/api/submit', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ 
                        message: tgMsg,
                        // sheetData –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º, —á—Ç–æ–±—ã –Ω–µ –∑–∞—Å–æ—Ä—è—Ç—å —Ç–∞–±–ª–∏—Ü—É –∑–∞–∫–∞–∑–æ–≤, –∏–ª–∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º –ø—É—Å—Ç–æ–π
                        sheetData: null 
                    }) 
                });

                if (response.ok) {
                    status.classList.remove('hidden');
                    btn.innerHTML = '<i class="fa-solid fa-check"></i> OK';
                    btn.classList.replace('from-glowy', 'from-green-500');
                    btn.classList.replace('to-purple-600', 'to-green-600');
                } else {
                    throw new Error('API Error');
                }
            } catch (e) {
                console.error(e);
                alert("Eroare conexiune. FƒÉ un screenshot la cod!");
                btn.innerHTML = originalText;
                btn.disabled = false;
            }
        }

        // Init
        document.addEventListener('DOMContentLoaded', () => {
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–π —è–∑—ã–∫ –∏–ª–∏ —Å—Ç–∞–≤–∏–º ro
            const savedLang = localStorage.getItem('glowy_lang') || 'ro';
            setLang(savedLang);
            generatePromoCode();
        });
    </script>
</body>
</html>
